!function(){var t={7345:function(t,e,n){"use strict";n.r(e);var o=n(4942);const i=window.__i18n||new class{constructor(){var t,e;(0,o.Z)(this,"shop_locale",(null===(t=window.spratlyThemeSettings)||void 0===t||null===(e=t.shop_locale)||void 0===e?void 0:e.current)||"en"),(0,o.Z)(this,"locales",{default:{add_button:"Add",added_button:"Added",bundle_button:"Add selected item(s)",bundle_saved:"Saved",bundle_select:"Select",bundle_selected:"Selected",bundle_this_item:"This item",bundle_total:"Total price",checkout:"Checkout",discount_summary:"You will get <strong>{discount_value} OFF</strong> on each product",discount_title:"SPECIAL OFFER",free:"FREE",incart_title:'Customers also bought with "{product_title}"',prepurchase_added:"You just added",prepurchase_title:'Frequently bought with "{product_title}"',qty_discount_note:"on each product",qty_discount_title:"{item_count} item(s) get {discount_value} OFF",sizechart_button:"Size chart",field_name:"Enter your name",field_email:"Enter your email",field_birthday:"Date of birth",discount_noti:"* Discount will be calculated and applied at checkout",fox_discount_noti:"* You are entitled to 1 discount offer of <span>{price}</span> (<span>{discount_title}</span>). This offer <b>can't be combined</b> with any other discount you add here!",bis_open:"Notify me when available",bis_heading:"Back in stock alert üì¨",bis_desc:"We will send you a notification as soon as this product is available again.",bis_submit:"Notify me",bis_email:"Your email",bis_name:"Your name",bis_phone:"Your phone number",bis_note:"Your note",bis_signup:"Email me with news and offers",bis_thankyou:"Thank you! We'll send you an email when this product is available!",preorder_discount_title:"üéÅ Preorder now to get <strong>{discount_value} OFF</strong>",preorder_shipping_note:"üöö Item will be delivered on or before <strong>{eta}</strong>"}}),(0,o.Z)(this,"tr",((t,e={})=>{var n;const{locales:o,shop_locale:i}=this;let s=(null===(n=o[i])||void 0===n?void 0:n[t])||o.default[t]||`Foxkit: translation missing for ${t}!`;return Object.keys(e).length&&Object.entries(e).forEach((([t,e])=>s=s.replace(`{${t}}`,e))),s})),(0,o.Z)(this,"setLocales",((t,e)=>{this.locales[t]=e}))}};window.__i18n=window.__i18n||i,e.default=i},4558:function(t,e,n){"use strict";n.r(e),n.d(e,{MinimogTheme:function(){return o},MinimogThemeSettings:function(){return i},MinimogThemeStrings:function(){return s},_ThemeEvent:function(){return a}});const o=window.spratlyTheme||{},i=window.spratlyThemeSettings||{},s=window.spratlyThemeStrings||{},a=window._ThemeEvent||{}},6295:function(t,e,n){"use strict";n.r(e);n(2422);e.default=new class{constructor(){return this.component=this.component.bind(this),this.component}component(t,e,...n){if("function"==typeof t)return t({...e,children:n});n&&(n=n.filter((t=>null!==t))),e&&(e.class&&(e.className=e.class),delete e.children);let o="fragment"!==t?function(t,e){e=e||{};let n=document.createElement(t);try{n=Object.assign(n,e)}catch{const t=Object.keys(e);for(let o=0;o<t.length;o++)"dataSet"!==e[o]&&n.setAttribute(t[o],e[t[o]])}return n}(t,e):document.createDocumentFragment();if(-1!==["svg","path","rect","text","circle","g"].indexOf(t)){o=document.createElementNS("http://www.w3.org/2000/svg",t);for(const t in e){const n="className"===t?"class":t;o.setAttribute(n,e[t])}}for(const t of n)Array.isArray(t)?o.append(...t):o.append(t);if(null!=e&&e.dataSet)for(const t in e.dataSet)Object.prototype.hasOwnProperty.call(e.dataSet,t)&&(o.dataset[t]=e.dataSet[t]);return e&&!window.__aleartedJSXData&&Object.keys(e).find((t=>t.match(/^data-/)))&&(alert("Do not use data-* in your JSX component! Use dataSet instead!! - Check the console.trace for more info"),window.__aleartedJSXData=!0),null!=e&&e.ref&&("function"==typeof e.ref?e.ref(o):e.ref=o),null!=e&&e.on&&Object.entries(e.on).forEach((([t,e])=>{o.addEventListener(t,e)})),null!=e&&e.style&&Object.entries(e.style).forEach((([t,e])=>{o.style.setProperty(t,e)})),o}}},2422:function(){!function(){function t(){var t=Array.prototype.slice.call(arguments),e=document.createDocumentFragment();t.forEach((function(t){var n=t instanceof Node;e.appendChild(n?t:document.createTextNode(String(t)))})),this.appendChild(e)}[Element.prototype,Document.prototype,DocumentFragment.prototype].forEach((function(e){e.hasOwnProperty("append")||Object.defineProperty(e,"append",{configurable:!0,enumerable:!0,writable:!0,value:t})}))}()},643:function(t){var e="complete",n="canceled";function o(t,e,n){Math.max(0,e),Math.max(0,n),t.self===t?t.scrollTo(e,n):(t.scrollLeft=e,t.scrollTop=n)}function i(t){var n=t._scrollSettings;if(n){var s=n.maxSynchronousAlignments,a=function(t,e){var n,o,i,s,a,r,l,c=t.align,d=t.target.getBoundingClientRect(),u=c&&null!=c.left?c.left:.5,h=c&&null!=c.top?c.top:.5,p=c&&null!=c.leftOffset?c.leftOffset:0,m=c&&null!=c.topOffset?c.topOffset:0,f=u,v=h;if(t.isWindow(e))r=Math.min(d.width,e.innerWidth),l=Math.min(d.height,e.innerHeight),o=d.left+e.pageXOffset-e.innerWidth*f+r*f,i=d.top+e.pageYOffset-e.innerHeight*v+l*v,o-=p,i-=m,o=t.align.lockX?e.pageXOffset:o,i=t.align.lockY?e.pageYOffset:i,s=o-e.pageXOffset,a=i-e.pageYOffset;else{r=d.width,l=d.height,n=e.getBoundingClientRect();var g=d.left-(n.left-e.scrollLeft),_=d.top-(n.top-e.scrollTop);o=g+r*f-e.clientWidth*f,i=_+l*v-e.clientHeight*v,o-=p,i-=m,o=Math.max(Math.min(o,e.scrollWidth-e.clientWidth),0),i=Math.max(Math.min(i,e.scrollHeight-e.clientHeight),0),o=t.align.lockX?e.scrollLeft:o,i=t.align.lockY?e.scrollTop:i,s=o-e.scrollLeft,a=i-e.scrollTop}return{x:o,y:i,differenceX:s,differenceY:a}}(n,t),r=Date.now()-n.startTime,l=Math.min(1/n.time*r,1);if(n.endIterations>=s)return o(t,a.x,a.y),t._scrollSettings=null,n.end(e);var c=1-n.ease(l);if(o(t,a.x-a.differenceX*c,a.y-a.differenceY*c),r>=n.time)return n.endIterations++,n.scrollAncestor&&i(n.scrollAncestor),void i(t);!function(t){if("requestAnimationFrame"in window)return window.requestAnimationFrame(t);setTimeout(t,16)}(i.bind(null,t))}}function s(t){return t.self===t}function a(t){return"pageXOffset"in t||(t.scrollHeight!==t.clientHeight||t.scrollWidth!==t.clientWidth)&&"hidden"!==getComputedStyle(t).overflow}function r(){return!0}function l(t){if(t.assignedSlot)return l(t.assignedSlot);if(t.parentElement)return"BODY"===t.parentElement.tagName?t.parentElement.ownerDocument.defaultView||t.parentElement.ownerDocument.ownerWindow:t.parentElement;if(t.getRootNode){var e=t.getRootNode();if(11===e.nodeType)return e.host}}t.exports=function(t,o,c){if(t){"function"==typeof o&&(c=o,o=null),o||(o={}),o.time=isNaN(o.time)?1e3:o.time,o.ease=o.ease||function(t){return 1-Math.pow(1-t,t/2)},o.align=o.align||{};var d=l(t),u=1,h=o.validTarget||r,p=o.isScrollable;o.debug;for(var m=[];d;)if(o.debug,h(d,u)&&(p?p(d,a):a(d))&&(u++,m.push(d)),!(d=l(d))){f(e);break}return m.reduce(((e,a,r)=>function(t,e,o,a,r){var l,c=!e._scrollSettings,d=e._scrollSettings,u=Date.now(),h={passive:!0};function p(t){e._scrollSettings=null,e.parentElement&&e.parentElement._scrollSettings&&e.parentElement._scrollSettings.end(t),o.debug,r(t),l&&(e.removeEventListener("touchstart",l,h),e.removeEventListener("wheel",l,h))}d&&d.end(n);var m=o.maxSynchronousAlignments;return null==m&&(m=3),e._scrollSettings={startTime:u,endIterations:0,target:t,time:o.time,ease:o.ease,align:o.align,isWindow:o.isWindow||s,maxSynchronousAlignments:m,end:p,scrollAncestor:a},"cancellable"in o&&!o.cancellable||(l=p.bind(null,n),e.addEventListener("touchstart",l,h),e.addEventListener("wheel",l,h)),c&&i(e),l}(t,a,o,m[r+1],f)),null)}function f(t){--u||c&&c(t)}}},4942:function(t,e,n){"use strict";function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,{Z:function(){return o}})}},e={};function n(o){var i=e[o];if(void 0!==i)return i.exports;var s=e[o]={exports:{}};return t[o](s,s.exports,n),s.exports}n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,{a:e}),e},n.d=function(t,e){for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},function(){"use strict";var t=n(4942),e=n(6295).default;function o({className:t=""}){return e("svg",{className:`animate-spin hidden w-[20px] h-[20px] ${t}`,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none"},e("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"}))}function i(t,e){"string"==typeof t&&(t=t.replace(".",""));let n="";const o=/\{\{\s*(\w+)\s*\}\}/,i=e||"${{amount}}";function s(t,e=2,n=",",o="."){if(isNaN(t)||null==t)return 0;const i=(t=(t/100).toFixed(e)).split(".");return i[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,`$1${n}`)+(i[1]?o+i[1]:"")}switch(i.match(o)[1]){case"amount":n=s(t,2);break;case"amount_no_decimals":n=s(t,0);break;case"amount_with_comma_separator":n=s(t,2,".",",");break;case"amount_no_decimals_with_comma_separator":n=s(t,0,".",",")}return i.replace(o,n)}const s=({context:t=document.documentElement,event:e="click",selector:n,handler:o,capture:i=!1})=>{const s=function(t){for(let e=t.target;e&&e!==this;e=e.parentNode)if(e.matches(n)){o.call(e,t,e);break}};return t.addEventListener(e,s,i),()=>{t.removeEventListener(e,s,i)}};n(6295).default;const a={mode:"same-origin",credentials:"same-origin",headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json"}};function r(){return JSON.parse(JSON.stringify(a))}const l=new Map;new Map,new Map;n(643);const{themeScriptURLs:c,themeStyleURLs:d}=window;n(6295).default;window.__getSectionInstanceByType=t=>window.Shopify.theme.sections.instances.find((e=>e.type===t));document.querySelector("#scroll-to-top-target");var u=n(6295).default;function h({type:t,message:e,onclick:n}){let o;return"warning"===t?o=u("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})):"success"===t&&(o=u("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}))),u("div",{className:`notification ${t}`,onclick:n},o,u("div",{className:"ml-3"},e))}var p=n(6295).default,m=n(4558).MinimogTheme;class f{constructor(){(0,t.Z)(this,"noti",null),(0,t.Z)(this,"removeTimeoutId",null),(0,t.Z)(this,"hideTimeoutId",null),(0,t.Z)(this,"transitionDuration",300),(0,t.Z)(this,"show",(({target:t,type:e,message:n,method:o="after",last:i=3e3,delay:s=0,debug:a=!1})=>{this.clearTimeout(),this.removeNoti(),setTimeout((()=>{this.noti=p(h,{type:e,message:n,onclick:this.handleClick}),null==t||t[o](this.noti),requestAnimationFrame((()=>this.noti.classList.add("show"))),a||(this.hideTimeoutId=setTimeout((()=>{this.noti.classList.add("hide"),this.removeTimeoutId=setTimeout(this.removeNoti,2*this.transitionDuration)}),i))}),s)})),(0,t.Z)(this,"handleClick",(()=>{clearTimeout(this.removeTimeoutId),this.noti.classList.add("hide"),setTimeout(this.removeNoti,2*this.transitionDuration)})),(0,t.Z)(this,"clearTimeout",(()=>{clearTimeout(this.removeTimeoutId),clearTimeout(this.hideTimeoutId)})),(0,t.Z)(this,"removeNoti",(()=>{var t;null==this||null===(t=this.noti)||void 0===t||t.remove()}))}}m.Notification=new f;var v=n(6295).default;window._themeProducts;const g=async t=>{const e=await((t,e=r())=>new Promise(((n,o)=>{let i=l.get(t);if(i)return n(i);fetch(t,e).then((e=>{i=e.text(),l.set(t,i),n(i)})).catch(o)})))(`/products/${t}?section_id=product-json`);if(e&&!/^<!doctype html>/.test(e)){const t=v("div",null);t.innerHTML=e;const n=t.querySelector("script.product-json");if(n){const e=JSON.parse(n.innerText);if(e){const{dataset:o}=n;Object.entries(o).forEach((([t,n])=>{return e[(o=t,o.replace(/[A-Z]/g,(t=>`_${t.toLowerCase()}`)))]=["true","false"].indexOf(n)+1?"true"===n:n;var o}));const i=t.querySelector("script.selected-variant-json");i&&(e.selected_variant=JSON.parse(i.innerText));const s=t.querySelector("script.selected-or-first-available-variant-json");return s&&(e.selected_or_first_available_variant=JSON.parse(s.innerText)),e}}}return null};window._getProductInstances=t=>{let e="id";return"string"==typeof t&&(e="handle"),window.spratlyTheme.Products.productInstances.filter((n=>{var o;return(null===(o=n.productData)||void 0===o?void 0:o[e])===t}))};var _=n(6295).default,w=()=>_("div",{className:"icon-plus hidden md:block"},_("svg",{className:"w-[20px] h-[20px]",fill:"currentColor",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512"},_("path",{d:"M376 232H216V72c0-4.42-3.58-8-8-8h-32c-4.42 0-8 3.58-8 8v160H8c-4.42 0-8 3.58-8 8v32c0 4.42 3.58 8 8 8h160v160c0 4.42 3.58 8 8 8h32c4.42 0 8-3.58 8-8V280h160c4.42 0 8-3.58 8-8v-32c0-4.42-3.58-8-8-8z"}))),y=n(6295).default;function b(t){const{src:e,alt:n,style:o={},className:i="",onLoad:s=(()=>{}),onError:a=(()=>{})}=t,r=y("img",{style:o,className:`transition-opacity opacity-0 ${i}`,src:e,alt:n});function l(){s&&s(),r.classList.add("opacity-100"),r.removeEventListener("load",l),r.removeEventListener("error",c)}function c(t){a&&a(),r.style.opacity=0,r.removeEventListener("load",l),r.removeEventListener("error",c)}return r.addEventListener("load",l),r.addEventListener("error",c),r.complete&&r.naturalWidth&&l(),r}var S=n(6295).default;var T=({variant:t})=>{var e;const{money_format:n}=(null===(e=window)||void 0===e?void 0:e.spratlyThemeSettings)||{},o=S("span",{class:"prod__compare_price mr-2 line-through text-color-secondary"});o.innerHTML=i(t.compare_at_price,n);const s=S("span",{class:"prod__price"});return s.innerHTML=i(t.price,n),S("div",null,t.compare_at_price?o:null,t.price?s:null)},N=n(6295).default;var x=({url:t,title:e,handle:n})=>n===window.spratlyThemeSettings.productHandle?N("span",{className:"prod__title"},e):N("a",{href:t,className:"prod__title upsell cursor-pointer"},e),k=n(6295).default;var E=({product:t,layout:e})=>{var n;const{money_format:o}=(null===(n=window)||void 0===n?void 0:n.spratlyThemeSettings)||{};return t.has_only_default_variant?null:k("select",{name:"id",dataSet:{productHandle:t.handle},className:"sf-product-variant-option-dropdown combined-variant "+("layout-2"===e?"text-color-secondary":"")},t.variants.map((t=>{const n=k("span",null);return n.innerHTML=`- ${i(t.price,o)}`,k("option",{value:t.id},t.title," ","layout-1"===e?null:n)})))},L=n(6295).default;var O=({productHandle:t,className:e=""})=>{const n=t===window.spratlyThemeSettings.productHandle;return L("label",{className:`upsell__checkbox-label flex-shrink-0 mr-4 cursor-pointer relative ${n?"main-prod":""} ${e}`},L("input",{type:"checkbox",checked:"checked",className:"upsell__checkbox hidden",dataSet:{productHandle:t}}),L("span",{className:"upsell__checkmark absolute top-0 left-0 w-full h-full"}))},C=n(6295).default,M=n(7345).default;var P=({product:t,layout:e,position:n})=>{const o=t.selected_or_first_available_variant,i=t.handle===window.spratlyThemeSettings.productHandle;return C("div",{className:"sf-prod__block",dataSet:{view:"card",mainProduct:i}},C("form",{className:"product-form form",noValidate:!0,dataSet:{productId:t.id,productHandle:t.handle}},C("input",{hidden:!0,name:"id",required:!0,value:null==o?void 0:o.id}),"layout-2"===e?null:C("div",{className:"inline-flex md:hidden items-center"},C(O,{productHandle:t.handle,className:"block md:hidden"})),C("div",{className:"product-img select-none flex-shrink-0"},C("a",{className:"block cursor-pointer w-full "+(i?"pointer-events-none":""),href:t.url},C("div",{className:"spc__main-img transition-opacity duration-300 opacity-100 max-w-full",style:{"--aspect-ratio":t.aspect_ratio}},C(b,{style:{"object-fit":"contain"},src:t.featured_image,alt:t.title})))),C("div",{className:"upsell__prod-info flex flex-col"},"inside"===n&&"layout-2"===e?null:C("fragment",null,C(x,{title:t.title,handle:t.handle,url:t.url}),C(T,{variant:o})),C("div",{className:"flex mt-4",dataSet:{variantSelect:!0}},"inside"===n&&"layout-1"===e?null:C(O,{productHandle:t.handle}),"layout-1"===e?C(E,{product:t,layout:e}):C("div",{className:"content-group flex"},C(x,{title:`${i?`${M.tr("bundle_this_item")}:`:""} ${t.title}`,handle:t.handle,url:t.url}),C(E,{product:t,layout:e})))),"inside"===n&&"layout-1"===e?C("div",null,C("button",{className:"select-button sf__btn sf__btn-secondary selected "+(i?"main-prod":""),dataSet:{productHandle:t.handle}},M.tr(i?"bundle_this_item":"bundle_selected"))):null))},H=n(6295).default;var I=({discountSummary:t})=>t?H("div",{class:"bundle_discount flex items-center"},H("svg",{className:"mr-2",xmlns:"http://www.w3.org/2000/svg",width:"18",height:"19",fill:"none",viewBox:"0 0 18 19"},H("path",{fill:"#DA3F3F",d:"M17.4375 7.49219C17.8125 8.00781 18 8.59375 18 9.25s-.1875 1.2539-.5625 1.793c-.375.5156-.8555.8789-1.4414 1.0898.2578.5625.3281 1.1719.2109 1.8281-.0937.6329-.375 1.1836-.8437 1.6524-.4688.4687-1.0195.75-1.6524.8437-.6328.1172-1.2421.0469-1.8281-.2109-.1406.3984-.3516.7383-.6328 1.0195-.2812.3047-.6211.5391-1.0195.7032-.37503.1874-.78519.2812-1.2305.2812-.65625 0-1.25391-.1875-1.79297-.5625-.51562-.375-.87891-.8555-1.08984-1.4414-.58594.2578-1.19531.3281-1.82813.2109-.63281-.0937-1.18359-.375-1.65234-.8437-.46875-.4688-.76172-1.0195-.87891-1.6524-.09375-.6562-.01172-1.2656.2461-1.8281C1.41797 11.9219.9375 11.5586.5625 11.043.1875 10.5039 0 9.90625 0 9.25s.1875-1.24219.5625-1.75781c.375-.53906.85547-.91407 1.44141-1.125-.25782-.5625-.33985-1.16016-.2461-1.79297.11719-.65625.41016-1.21875.87891-1.6875.46875-.46875 1.01953-.75 1.65234-.84375.65625-.11719 1.26563-.04688 1.82813.21094.21093-.58594.57422-1.06641 1.08984-1.44141C7.74609.4375 8.34375.25 9 .25s1.2422.1875 1.7578.5625c.5391.375.9141.85547 1.125 1.44141.5625-.25782 1.1602-.32813 1.793-.21094.6562.09375 1.2187.375 1.6875.84375.4687.46875.75 1.03125.8437 1.6875.1172.63281.0469 1.23047-.2109 1.79297.5859.21093 1.0664.58594 1.4414 1.125zM7.52344 6.22656C7.3125 5.99219 7.05469 5.875 6.75 5.875s-.57422.11719-.80859.35156C5.73047 6.4375 5.625 6.69531 5.625 7s.10547.57422.31641.80859c.23437.21094.5039.31641.80859.31641s.5625-.10547.77344-.31641C7.75781 7.57422 7.875 7.30469 7.875 7s-.11719-.5625-.35156-.77344zm-.35156 6.04684l4.85152-4.85152c.2578-.25782.2578-.51563 0-.77344l-.4218-.42188c-.2578-.25781-.5157-.25781-.7735 0L5.97656 11.0781c-.25781.2578-.25781.5157 0 .7735l.42188.4218c.25781.2578.51562.2578.77344 0zm3.26952.0352c.2344.2109.5039.3164.8086.3164.3047 0 .5625-.1055.7734-.3164.2344-.2344.3516-.5039.3516-.8086 0-.3047-.1172-.5625-.3516-.7734-.2109-.2344-.4687-.3516-.7734-.3516-.3047 0-.5742.1172-.8086.3516-.2109.2109-.3164.4687-.3164.7734 0 .3047.1055.5742.3164.8086z"})),t):null,A=n(6295).default,j=n(7345).default;function Z({bundle_heading:t,products:e,layout:n,container:o,position:i,discountSummary:s,discountClass:a}){return A("div",{className:`prod-section-upsell ${"outside"===i?o:""} ${n} ${i} ${a}`,dataSet:{bundleContainer:"true"}},A("h3",{className:"upsell_heading"},t),A(I,{discountSummary:s}),A("div",{className:"upsell__container"},A("div",{className:"upsell__products-wrapper flex items-stretch"},e.filter(Boolean).map((t=>{const e=t.handle===window.spratlyThemeSettings.productHandle;return A("fragment",null,A(P,{product:t,layout:n,position:i}),!e||"inside"===i&&"layout-1"===n?null:A(w,null))}))),"layout-1"===n?null:A("div",{className:"upsell__products-info flex flex-col"}),A("div",{className:"total w-full"},A("div",{className:"total-block"},A("div",null,A("span",{className:"text-color-prod-desc"},j.tr("bundle_total"),":"),A("span",{dataSet:{total:!0},className:"mx-2 hidden text-lg line-through text-color-secondary leading-6"}),A("span",{dataSet:{subTotal:!0},className:"upsell__sub-total text-lg ml-2"})),A("div",{dataSet:{savedBlock:!0},className:"mt-1 hidden"},A("span",{className:"text-color-prod-desc"},j.tr("bundle_saved"),":"),A("span",{dataSet:{savedPrice:!0},className:"mx-2 text-lg text-color-secondary leading-6"})),A("button",{className:"sf__btn sf__btn-primary upsell__atc mt-5 flex justify-center w-full"},A("span",null,j.tr("bundle_button"))),A("div",{className:"upsell__error"})))))}var D=n(6295).default,F=n(7345).default;String.prototype.capitalize||(String.prototype.capitalize=function(){var t,e;return this.replace(this[0],null===(t=this[0])||void 0===t||null===(e=t.toUpperCase)||void 0===e?void 0:e.call(t))});function $(t){var e,n,o,s;const a=D("span",null),r="PERCENTAGE"===(null==t?void 0:t.type)?`${null==t?void 0:t.value}%`:i(100*(null==t?void 0:t.value)*Number((null===(e=window.Shopify)||void 0===e||null===(n=e.currency)||void 0===n?void 0:n.rate)||1),null===(o=window)||void 0===o||null===(s=o.spratlyThemeSettings)||void 0===s?void 0:s.money_format);return a.innerHTML=F.tr("discount_summary",{discount_value:r}),a}function B(t,e=300){let n;return(...o)=>{clearTimeout(n),n=setTimeout((()=>t.apply(this,o)),e)}}var W=n(6295).default,q=n(7345).default;window.spratlyTheme=window.spratlyTheme||{},window.spratlyTheme.ProductBundle=class{constructor(e,n){var a,l,c;((0,t.Z)(this,"selectors",{bundleContainer:"[data-bundle-container]",productsWrapper:".upsell__products-wrapper",productForms:["form[data-product-id]"],variantSelects:["[data-variant-select]"],mainImg:"[data-main-product] .spc__main-img img",productsInfo:".upsell__products-info",iconPlus:".icon-plus",atc:".upsell__atc",total:".total",totalPrice:"[data-total]",subTotalPrice:"[data-sub-total]",savedBlock:"[data-saved-block]",savedPrice:"[data-saved-price]",errorWrapper:".upsell__error"}),(0,t.Z)(this,"spinner",W(o,{className:"m-0.5"})),(0,t.Z)(this,"products",[]),(0,t.Z)(this,"productInstances",[]),(0,t.Z)(this,"containerClass",window.spratlyThemeSettings.productContainer||"container"),(0,t.Z)(this,"money_format",(null===(a=window.spratlyThemeSettings)||void 0===a?void 0:a.money_format)||"${{amount}}"),(0,t.Z)(this,"init",(async()=>{try{this.products=await(async t=>{const e={},n=t.map((async t=>{e[t]=await g(t)}));return await Promise.all(n),t.map((t=>e[t]))})(this.handles);const{bundle_heading:t,position:e,layout:n,active_discount:o,discount:i}=this.settings,s=o&&i.value,a=W(Z,{layout:n,container:this.containerClass,position:e,bundle_heading:t,products:this.products,discountSummary:s?$(i):null,discountClass:s?"has-discount":"no-discount"});this.container.appendChild(a),this.domNodes=function(t={},e=document){return Object.entries(t).reduce(((t,[n,o])=>{var i;const s="string"==typeof o,a=s?"querySelector":"querySelectorAll",r=s?o:o[0];return t[n]=null==e||null===(i=e[a])||void 0===i?void 0:i.call(e,r),!s&&t[n]&&(t[n]=[...t[n]]),t}),{})}(this.selectors,this.container);const r=this.domNodes.productForms.map((async t=>{const e=new window.spratlyTheme.Product(t,{autoInit:!1});await e.init(),e.selected=!0,this.productInstances.push(e)}));await Promise.all(r),"layout-1"===n?this.setTotalBlockShadow():"layout-2"===n&&this.moveVariantSelectsOut(),this.setMainImgHeight(),a.style.opacity=1}catch(t){}})),(0,t.Z)(this,"moveVariantSelectsOut",(()=>{const{variantSelects:t,productsInfo:e}=this.domNodes;t.forEach((t=>e.appendChild(t)))})),(0,t.Z)(this,"setMainImgHeight",(()=>{const t=()=>{const{mainImg:t}=this.domNodes;t&&this.container.style.setProperty("--main-img-height",`${t.offsetHeight}px`)};t(),window.addEventListener("resize",B(t))})),(0,t.Z)(this,"setTotalBlockShadow",(()=>{const t=()=>{var t,e;const{productsWrapper:n,total:o}=this.domNodes,{clientWidth:i,scrollWidth:s}=n,a=s>i?"add":"remove";null==o||null===(t=o.classList)||void 0===t||null===(e=t[a])||void 0===e||e.call(t,"has-shadow")};t(),window.addEventListener("resize",B(t))})),(0,t.Z)(this,"handleSelectProduct",(()=>{s({event:"change",context:this.container,selector:".sf-product-variant-option-dropdown",handler:this.setTotalPrices}),s({event:"change",context:this.container,selector:".upsell__checkbox",handler:(t,e)=>{const n=e.dataset.productHandle,o=this.productInstances.find((t=>t.productData.handle===n));o.selected=e.checked;const i=o.productHelper.domNodes.featuredImage;i&&(i.style.opacity=e.checked?1:.5),this.setAddToCartBtnState(),this.setTotalPrices()}}),s({context:this.container,selector:".select-button",handler:(t,e)=>{t.preventDefault(),e.blur();const n=e.dataset.productHandle,o=this.productInstances.find((t=>t.productData.handle===n)),i=e.classList.contains("selected");e.classList[i?"remove":"add"]("selected"),e.textContent=q.tr(i?"bundle_select":"bundle_selected"),o.selected=!i;const s=o.productHelper.domNodes.featuredImage;s&&(s.style.opacity=i?.6:1),this.setAddToCartBtnState(),this.setTotalPrices()}})})),(0,t.Z)(this,"setAddToCartBtnState",(()=>{const{atc:t}=this.domNodes,e=this.productInstances.filter((t=>t.selected)).length>1?"remove":"add";t.classList[e]("disabled")})),(0,t.Z)(this,"handleAddToCart",(()=>{s({context:this.container,selector:this.selectors.atc,handler:()=>{const t=[];this.productInstances.forEach((e=>{e.selected&&t.push(Number(e.domNodes.variantIdNode.value))}));const e={items:t.map((t=>({id:t,quantity:1,properties:{_foxDiscount:{plugin:"Bundle",offer_id:this.settings._id}}})))},n=r();n.method="POST",n.body=JSON.stringify(e),this.toggleLoading(!0),fetch("/cart/add.js",n).then((async t=>{if(null!=t&&t.ok){const{items:e}=await t.json(),n=e.shift();window.Shopify.onItemAdded(n),e.forEach((t=>setTimeout((()=>window.Shopify.onItemAdded(t,!1)),3e3)))}else{const e=await t.json();this.showError((null==e?void 0:e.description)||"Failed to add all items to cart!")}if(setTimeout((()=>this.toggleLoading(!1)),300),!window.adminThemeSettings.use_ajax_atc){var e,n;const t=(null===(e=window.spratlyThemeSettings)||void 0===e||null===(n=e.routes)||void 0===n?void 0:n.cart)||"/cart";window.location.href=t}})).catch((t=>{var e;this.showError(null==t||null===(e=t.toString)||void 0===e?void 0:e.call(t)),this.toggleLoading(!1)}))}})})),(0,t.Z)(this,"setTotalPrices",(()=>{const t=this.productInstances.filter((t=>t.selected)).map((t=>{const e=t.domNodes.variantIdNode.value;return t.productData.variants.find((t=>(null==t?void 0:t.id)===Number(e)))})).filter(Boolean);let e,n;const o=t.reduce(((t,e)=>t+e.price),0),{active_discount:s,discount:a}=this.settings;let r;if(1===t.length?r=o:s&&a&&a.value&&("PERCENTAGE"===a.type?r=o*(100-a.value)/100:"FIXED_AMOUNT"===a.type&&(r=o-100*a.value*t.length,r<0&&(r=0))),"number"==typeof r)e=o,n=r;else{const i=t.reduce(((t,e)=>t+(e.compare_at_price||e.price)),0);i>o&&(e=i),n=o}const l=e-n,{money_format:c}=this,{totalPrice:d,subTotalPrice:u,savedBlock:h,savedPrice:p}=this.domNodes;u.innerHTML=i(n,c),e?(d.innerHTML=i(e,c),p.innerHTML=i(l,c),h.classList.remove("hidden"),d.classList.remove("hidden")):(h.classList.add("hidden"),d.classList.add("hidden"))})),(0,t.Z)(this,"showError",(t=>{var e;f.show({target:null===(e=this.domNodes)||void 0===e?void 0:e.errorWrapper,method:"appendChild",type:"warning",message:t})})),(0,t.Z)(this,"toggleLoading",(t=>{var e;t?(this.domNodes.atc.appendChild(this.spinner),this.domNodes.atc.classList.add("sf-spinner-loading")):(null==this||null===(e=this.spinner)||void 0===e||e.remove(),this.domNodes.atc.classList.remove("sf-spinner-loading"))})),e&&n)&&(this.container=e,this.settings=n,this.settings.mainProduct=window.spratlyThemeSettings.productHandle,this.handles=[this.settings.mainProduct,...this.settings.products],null!==(l=this.handles)&&void 0!==l&&l.length?this.init().then((()=>{this.setTotalPrices(),this.handleSelectProduct(),this.handleAddToCart()})).catch((t=>{})):null==e||null===(c=e.remove)||void 0===c||c.call(e))}}}()}();